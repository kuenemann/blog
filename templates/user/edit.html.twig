{% extends 'base.html.twig' %}

{% block title %}Modifier le Profil
{% endblock %}

{% block body %}
	<style>
		body {
			background-color: #CF9F22;
		}

		.custom-form {
			background-color: white;
			padding: 20px;
			border: 2px solid #007BFF;
			border-radius: 10px;
			margin-top: 20px;
		}

		.form-group {
			margin-bottom: 15px;
		}

		.form-control {
			border-radius: 5px;
		}

		.btn-primary {
			background-color: #007BFF;
			border-color: #007BFF;
		}
	</style>

	<div class="container">
		<div class="row justify-content-center align-items-center" style="min-height: 100vh;">
			<div class="col-md-6">
				<div class="card custom-form">
					<div class="card-body">
						<h1 class="text-center">Modifier le Profil</h1>

						{{ form_start(form, {'attr': {'class': 'needs-validation'}}) }}

						<div class="form-group">
							{{ form_row(form.first_name, {
                                label: 'Prénom',
                                'attr': {'class': 'form-control', 'required': true}
                            }) }}
						</div>

						<div class="form-group">
							{{ form_row(form.last_name, {
                                label: 'Nom',
                                'attr': {'class': 'form-control', 'required': true}
                            }) }}
						</div>

						<div class="form-group">
							{{ form_row(form.bio, {
                                label: 'Biographie',
                                'attr': {'class': 'form-control'}
                            }) }}
						</div>

						<div class="form-group">
							{{ form_row(form.username, {
                                label: 'Nom d\'utilisateur',
                                'attr': {'class': 'form-control', 'required': true}
                            }) }}
                        </div>


                        {# Ajouter la date GDPR au formulaire d'édition #}
                        <div class="form-group">
                             <label for="gdprDate">Date GDPR :</label>
                             <input type="text" id="gdprDate" class="form-control" value="{{ user.getGdpr() ? user.getGdpr().format('Y-m-d H:i:s') : 'N/A' }}" disabled>
                        </div>

                        <div class="mb-4">
                        <strong>Email :</strong> {{ user.getEmail() }}<br>
							<strong>Est vérifié :</strong>
							{{ user.isIsVerified() ? 'Oui' : 'Non' }}<br>
						</div>


						<button type="submit" class="btn btn-primary btn-block mt-3">Sauvegarder</button>

						{{ form_end(form) }}
					</div>
				</div>
			</div>
		</div>
	</div>
{% endblock %}
